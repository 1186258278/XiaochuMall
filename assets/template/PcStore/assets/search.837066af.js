import{_ as V,D as j,r as _,b as T,d as r,h as c,e as p,w as a,i as L,f,F as w,o as s,t as i,g as E,n as u,k as m,j as g,G as O,H}from"./index.918325e7.js";const R={name:"search",data(){var e;return{GoodsList:[],Search:"",Page:0,GoodsType:!0,GoodsState:!0,svg:`
			          <path class="path" d="
			            M 30 15
			            L 28 17
			            M 25.61 25.61
			            A 15 15, 0, 0, 1, 15 30
			            A 15 15, 0, 1, 1, 27.99 7.5
			            L 15 15
			          " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
			        `,Prices:[],tips:!1,TemConf:(e=this.$store.state.TemplateConfiguration)!=null?e:{}}},mounted(){j.beforeEach((e,d,n)=>{if(e.query.name!==d.query.name){this.Trigger(e.query.name);return}n()}),this.Search=this.$route.query.name,this.Search==""||this.Search==null||this.Search=="undefined"?this.Trigger(""):this.Trigger()},methods:{Trigger(e=!1){e===!1?this.Search=this.$route.query.name:this.Search=e,this.Page=1,this.GoodsType=!0,this.GoodsList=[],this.GoodsListGet()},Price(e){let d,n,h;return this.Prices[e.gid]!==void 0?this.Prices[e.gid]:(e.method==1?e.price==0||e.points==0?(d="#43A047;font-size: 90%;",n="\u514D\u8D39\u9886\u53D6",h=2):(d="#ff0000",n=e.price,h=1):e.method==2?e.price==0?(d="#43A047;font-size: 90%;",n="\u514D\u8D39\u9886\u53D6",h=2):(d="#ff0000",n=e.price,h=1):e.method==3&&(e.points==0?(d="#43A047;font-size: 90%;",n="\u514D\u8D39\u9886\u53D6",h=2):(d="#ff0000",n=e.points,h=3)),this.Prices[e.gid]={color:d,price:n,state:h},this.Prices[e.gid])},Router(e,d={}){this.$router.push({path:e,query:d})},GoodsLoad(e){this.GoodsType===!0&&(++this.Page,this.GoodsListGet())},Open(e){open("/#/goods?gid="+e)},GoodsListGet(){this.GoodsState=!0;let e=this,d={page:this.Page,limit:12,name:this.Search};this.$ajax.post("main.php?act=GoodsList",d).then(function(n){if(e.GoodsState=!1,n.code>=0){e.tips=n.tips;for(let h=0;h<n.data.length;h++)e.GoodsList.push(n.data[h]);n.data.length===0&&(e.GoodsType=!1)}})}}},J=e=>(O("data-v-5a339585"),e=e(),H(),e),K={style:{"background-color":"#FFFFFF",padding:"0 1em"}},Q={style:{height:"3em","line-height":"3em","font-size":"1.2em"}},U={key:0},W={key:1},X=J(()=>c("a",{href:"/",style:{height:"3em","line-height":"3em","font-size":"1.2em","text-align":"right","padding-right":"0.6em",display:"block","text-decoration":"none",color:"#000"}}," \u8FD4\u56DE\u9996\u9875 ",-1)),Y={style:{padding:"0.5em"}},Z={key:1,class:"PriceSales"},$={style:{padding:"0 10px 10px"}},ee={key:0},te={key:0},se={style:{color:"#9e9e9e","text-decoration":"line-through","font-size":"8px","margin-left":"4px"}},oe={key:1},ie={key:2},ne={style:{"font-size":"13px",color:"#f4a300"}},le={style:{color:"#9e9e9e","text-decoration":"line-through","font-size":"8px","margin-left":"4px"}},re={style:{"font-size":"10px",color:"#f4a300","margin-left":"4px"}},ce={key:1},ae={key:0},de={key:1},he={key:2},_e={style:{"font-size":"13px",color:"#f4a300"}},pe={style:{"font-size":"10px",color:"#f4a300","margin-left":"4px"}},fe={key:2,style:{"margin-top":"0.5em"}},ge={style:{"margin-top":"0.5em"}},ue=g(" \u5E93\u5B58\u5145\u8DB3 "),ye=g("\u65E0\u5E93\u5B58"),me={key:1},ve={key:2,style:{"text-align":"center","margin-top":"1em",color:"#999"}},xe=g(" \u8F7D\u5165\u4E2D ");function ke(e,d,n,h,o,l){const v=_("el-col"),k=_("el-row"),G=_("el-image"),b=_("n-ellipsis"),y=_("el-tag"),q=_("el-card"),F=_("el-empty"),D=_("el-icon"),A=_("el-main"),B=_("el-container"),I=T("loading"),M=T("infinite-scroll");return s(),r(w,null,[c("div",K,[p(k,{gutter:24},{default:a(()=>[p(v,{span:18},{default:a(()=>[c("div",Q,[o.tips?(s(),r("span",W,i(o.tips),1)):(s(),r("span",U," \u6B63\u5728\u641C\u7D22\u5173\u952E\u8BCD\u5305\u542B["+i(o.Search)+"]\u7684\u5185\u5BB9\uFF01 ",1))])]),_:1}),p(v,{span:6},{default:a(()=>[X]),_:1})]),_:1})]),L((s(),f(B,{style:{"padding-bottom":"1em"},"infinite-scroll-immediate":!1,"infinite-scroll-delay":"200"},{default:a(()=>[L((s(),f(A,{style:{padding:"0.5em 0","overflow-x":"hidden"},"element-loading-svg":o.svg,"element-loading-svg-view-box":"-10, -10, 50, 50"},{default:a(()=>[o.GoodsList.length>=1?(s(),f(k,{key:0,gutter:12},{default:a(()=>[(s(!0),r(w,null,E(o.GoodsList,(t,N)=>(s(),f(v,{span:o.TemConf[1].value-0,key:N,style:{"margin-bottom":"10px"}},{default:a(()=>[p(q,{onClick:x=>l.Open(t.gid),shadow:"hover",style:{border:"none","box-shadow":"1px 1px 3px #fff4f0","border-radius":"4px"},"body-style":{padding:"0",cursor:"pointer"}},{default:a(()=>{var x,P;return[c("div",Y,[o.TemConf[6].value=="open"?(s(),f(G,{key:0,lazy:"",style:u("width: 100%;height: "+((x=o.TemConf[3].value)!=null?x:130)+"px;"),title:t.name,src:t.image,fit:(P=o.TemConf[5].value)!=null?P:"fill"},{error:a(()=>{var S,z,C;return[p(G,{lazy:"",style:u("width: 100%;height: "+((S=o.TemConf[3].value)!=null?S:130)+"px;"),src:(z=o.TemConf[4].value)!=null?z:"../../../public/image/404.png",fit:(C=o.TemConf[5].value)!=null?C:"fill"},null,8,["style","src","fit"])]}),_:2},1032,["style","title","src","fit"])):m("",!0),t.sales>=1&&o.TemConf[8].value==="open"?(s(),r("div",Z," \u9500\u91CF"+i(t.sales>=1e4?"1\u4E07+":t.sales),1)):m("",!0)]),c("div",$,[p(b,{style:{"max-width":"100%","line-height":"22px","font-size":"16px","font-weight":"500",color:"#333","margin-bottom":"0.5em","text-indent":"0.2em"}},{default:a(()=>[g(i(t.name),1)]),_:2},1024),t.Seckill&&o.GoodsList.length>=1?(s(),r("div",ee,[l.Price(t).state===1?(s(),r("div",te,[c("span",{class:"Price",style:u("color:"+l.Price(t).color)},"\uFFE5"+i(e.Money(t)),5),c("span",se,i(l.Price(t).price),1)])):l.Price(t).state===2?(s(),r("div",oe,[c("span",{style:u("color:"+l.Price(t).color)},i(l.Price(t).price),5)])):(s(),r("div",ie,[c("span",ne,i(e.Money(t)),1),c("span",le,i(l.Price(t).price),1),c("span",re,i(e.ConfData.Config.currency),1)]))])):(s(),r("div",ce,[l.Price(t).state===1?(s(),r("div",ae,[c("span",{class:"Price",style:u("color:"+l.Price(t).color)},"\uFFE5"+i(l.Price(t).price),5)])):l.Price(t).state===2?(s(),r("div",de,[c("span",{style:u("color:"+l.Price(t).color)},i(l.Price(t).price),5)])):(s(),r("div",he,[c("span",_e,i(l.Price(t).price),1),c("span",pe,i(e.ConfData.Config.currency),1)]))])),t.Seckill&&o.GoodsList.length>=1?(s(),r("div",fe,[p(y,{size:"small",type:"danger",style:{width:"100%"}},{default:a(()=>[g(" \u4F18\u60E0"+i(t.Seckill.depreciate)+"% ",1)]),_:2},1024)])):m("",!0),c("div",ge,[t.quota<=999?(s(),f(y,{key:0,size:"small",type:"success"},{default:a(()=>[g("\u5269"+i(t.quota)+"\u4EFD ",1)]),_:2},1024)):t.quota>=1e3?(s(),f(y,{key:1,size:"small",type:"success"},{default:a(()=>[ue]),_:1})):(s(),f(y,{key:2,size:"small",type:"info"},{default:a(()=>[ye]),_:1})),p(y,{size:"small",style:{"margin-left":"0.5em","margin-right":"0.5em"}},{default:a(()=>[g("x"+i(t.quantity)+i(t.units),1)]),_:2},1024)])])]}),_:2},1032,["onClick"])]),_:2},1032,["span"]))),128))]),_:1})):(s(),r("div",me,[p(F,{description:"\u6CA1\u6709\u627E\u5230\u4EFB\u4F55\u5546\u54C1"})])),o.GoodsState&&o.GoodsList.length>=1?(s(),r("div",ve,[xe,p(D,{color:"#999",class:"el-icon-loading"})])):m("",!0)]),_:1},8,["element-loading-svg"])),[[I,o.GoodsState&&o.GoodsList.length>=1]])]),_:1})),[[M,l.GoodsLoad]])],64)}var Pe=V(R,[["render",ke],["__scopeId","data-v-5a339585"]]);export{Pe as default};
