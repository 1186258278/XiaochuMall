import{_ as C,E as V,C as P,r as n,c as D,f as g,d as l,a as f,w as s,b as U,F as T,o as r,j as q,e as p,t as v,q as B}from"./index.7e8edd7c.js";import{_ as A}from"./qq.4facf20a.js";const F={name:"personalSettings",data(){return{activeName:1,Data:!1,current:0,password:"",IP:[],Type:!1,PassType:!0,ID:"",Token:"",Url:"",TagType:!1,inputValue:""}},mounted(){this.AjaxGet()},methods:{handleClose(t){if(this.IP.length===1){this.$message({message:"\u81F3\u5C11\u7559\u4E00\u4E2AIP\uFF01",type:"error",grouping:!0});return}this.IP.splice(this.IP.indexOf(t),1),this.TagAjax()},handleInputConfirm(){this.inputValue!==""&&this.IP.push(this.inputValue),this.TagType=!1,this.inputValue="",this.TagAjax()},TagAjax(){let t=this;this.$ajax.post("ajax.php?act=ip_data",{ip_data:this.IP}).then(function(e){e.code>=0?t.$message({message:e.msg,type:"success",grouping:!0}):t.$message({message:e.msg,type:"error",grouping:!0})})},QuickLogin(t="qq"){V.confirm("\u786E\u5B9A\u7ED1\u5B9A\u5417\uFF0C\u7ED1\u5B9A\u540E\u53EF\u4EE5\u4F7F\u7528"+t+"\u5FEB\u6377\u767B\u5F55\u6B64\u8D26\u53F7\uFF01","\u6E29\u99A8\u63D0\u793A",{confirmButtonText:"\u786E\u8BA4\u7ED1\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{t=="qq"&&open("ajax.php?act=connected")})},Router(t,e={}){this.$router.push({path:t,query:e})},Submit(){var t=this.IP.split(`
`);t=t.join("|");let e=this;this.copy(this.Data.token),uni.showModal({title:"\u6E29\u99A8\u63D0\u793A",content:"\u786E\u5B9A\u8981\u66F4\u65B0\u767D\u540D\u5355IP\u5217\u8868\u5417\uFF1F",showCancel:!0,confirmText:"\u786E\u5B9A",success:function(d){d.confirm&&(e.$refs.loading.open(),e.$u.get("?act=UserAjax&uac=ip_data&type=2",{ip_data:t}).then(h=>{e.$refs.loading.close(),h.code>=0&&uni.showModal({title:"\u606D\u559C",content:h.msg,showCancel:!1,confirmText:"\u597D\u7684",success:a=>{e.AjaxGet()}})}))}})},Reset(){let t=this;V.confirm("\u786E\u8BA4\u8981\u66F4\u65B0\u5BF9\u63A5\u5BC6\u94A5\u5417\uFF0C\u66F4\u65B0\u540E\u539F\u6765\u7684\u5BF9\u63A5\u5BC6\u94A5\u5C06\u5931\u6548?","\u6E29\u99A8\u63D0\u793A",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{t.$ajax.post("ajax.php?act=add_token").then(function(e){e.code>=0?(t.$message({message:e.msg,type:"success",grouping:!0}),t.Token=e.token):t.$message({message:e.msg,type:"error",grouping:!0})})})},AjaxSet(){let t={name:this.Data.name,qq:this.Data.qq,mobile:this.Data.mobile,username:this.Data.username,password:this.password};if(this.Data.password&&this.password===""){this.$message({message:"\u8BF7\u5C06\u767B\u5F55\u5BC6\u7801\u586B\u5199\u5B8C\u6574\uFF01",type:"error",grouping:!0});return}let e=this;V.confirm("\u786E\u5B9A\u8981\u66F4\u65B0\u7528\u6237\u6570\u636E\u5417\uFF1F\u5982\u679C\u4FEE\u6539\u4E86\u767B\u5F55\u8D26\u53F7\uFF0C\u5219\u9700\u8981\u91CD\u65B0\u767B\u9646\uFF01","\u6E29\u99A8\u63D0\u793A",{confirmButtonText:"\u786E\u8BA4\u4FEE\u6539",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{e.$ajax.post("ajax.php?act=user_set",t).then(function(d){d.code>=0?(e.$message({message:d.msg,type:"success",grouping:!0}),P.updateGlobalData(),e.GetUserPanelInformation()):e.$message({message:d.msg,type:"error",grouping:!0})})})},change(t){this.current=t},AjaxGet(){let t=this;this.Type=!1,this.$ajax.post("ajax.php?act=UserGet").then(e=>{e.code>=0?(t.Data=e.data,t.Data.password?t.PassType=!0:(t.Data.password="",t.PassType=!1),t.IP=e.data.IPList,t.Type=!0,t.ID=e.data.id,t.Token=e.data.token,t.Url=e.data.url):t.Data=!1})}}},N={style:{"background-color":"#FFFFFF",padding:"1em","margin-bottom":"0.5em"}},G=p("\u4FDD\u5B58\u4FE1\u606F"),Q={style:{padding:"2em"}},S=g("img",{src:A},null,-1),L=p(" \uFF31\uFF31\u5FEB\u6377\u767B\u5F55 "),R=p("\u7ACB\u5373\u7ED1\u5B9A "),z=p("\u66F4\u65B0\u5BC6\u94A5"),E=g("hr",null,null,-1),K=p(" \u6DFB\u52A0\u767D\u540D\u5355IP "),M=g("div",{style:{"margin-top":"2em"}},[p(" \u7CFB\u7EDF\u5BF9\u63A5\u5F00\u53D1\u6587\u6863\uFF1A"),g("a",{href:"https://console-docs.apipost.cn/preview/673b01ecd8a72dd0/10de7a514a9c49cf",target:"_blank"},"\u67E5\u770B")],-1);function O(t,e,d,h,a,m){const k=n("el-page-header"),i=n("el-input"),u=n("el-form-item"),_=n("el-button"),x=n("el-form"),y=n("el-tab-pane"),c=n("el-col"),b=n("el-row"),w=n("el-tag"),I=n("el-tabs"),j=n("n-card");return r(),D(T,null,[g("div",N,[l(k,{onBack:e[0]||(e[0]=o=>m.Router("/user/home")),content:"\u4E2A\u4EBA\u8BBE\u7F6E"})]),a.Data!==!1?(r(),f(j,{key:0,title:"\u4E2A\u4EBA\u4FE1\u606F\u914D\u7F6E\u9762\u677F"},{default:s(()=>[l(I,{modelValue:a.activeName,"onUpdate:modelValue":e[14]||(e[14]=o=>a.activeName=o)},{default:s(()=>[l(y,{label:"\u914D\u7F6E\u57FA\u7840\u4FE1\u606F",name:1},{default:s(()=>[l(x,{model:a.Data,"label-position":"top"},{default:s(()=>[l(u,{label:"\u7528\u6237\u540D\u79F0"},{default:s(()=>[l(i,{modelValue:a.Data.name,"onUpdate:modelValue":e[1]||(e[1]=o=>a.Data.name=o),placeholder:"\u8BF7\u586B\u5199\u7528\u6237\u540D\u79F0"},null,8,["modelValue"])]),_:1}),l(u,{label:"\u7ED1\u5B9AQ Q"},{default:s(()=>[l(i,{modelValue:a.Data.qq,"onUpdate:modelValue":e[2]||(e[2]=o=>a.Data.qq=o),placeholder:"\u8BF7\u8F93\u5165\u7ED1\u5B9AQQ"},null,8,["modelValue"])]),_:1}),l(u,{label:"\u7ED1\u5B9A\u624B\u673A"},{default:s(()=>[l(i,{modelValue:a.Data.mobile,"onUpdate:modelValue":e[3]||(e[3]=o=>a.Data.mobile=o),placeholder:"\u8BF7\u8F93\u5165\u7ED1\u5B9A\u624B\u673A"},null,8,["modelValue"])]),_:1}),l(u,{label:"\u767B\u9646\u8D26\u53F7"},{default:s(()=>[l(i,{modelValue:a.Data.username,"onUpdate:modelValue":e[4]||(e[4]=o=>a.Data.username=o),placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u8D26\u53F7"},null,8,["modelValue"])]),_:1}),l(u,{label:"\u767B\u9646\u5BC6\u7801"},{default:s(()=>[a.PassType?(r(),f(i,{key:1,modelValue:a.Data.password,"onUpdate:modelValue":e[6]||(e[6]=o=>a.Data.password=o),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801,\u60A8\u5C1A\u672A\u8BBE\u7F6E\u5BC6\u7801,\u7B2C\u4E00\u6B21\u5FC5\u987B\u8F93\u5165\u54E6"},null,8,["modelValue"])):(r(),f(i,{key:0,modelValue:a.Data.password,"onUpdate:modelValue":e[5]||(e[5]=o=>a.Data.password=o),placeholder:"\u7559\u7A7A\u4E0D\u4FEE\u6539,\u8BF7\u586B\u5199\u65B0\u7684\u5BC6\u7801"},null,8,["modelValue"]))]),_:1}),l(u,null,{default:s(()=>[l(_,{style:{width:"100%"},type:"primary",onClick:e[7]||(e[7]=o=>m.AjaxSet())},{default:s(()=>[G]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),l(y,{label:"\u914D\u7F6E\u5FEB\u6377\u767B\u5F55",name:2},{default:s(()=>[g("div",Q,[l(b,{gutter:20},{default:s(()=>[l(c,{span:6,style:{"text-align":"left","margin-bottom":"0.5em"}},{default:s(()=>[l(b,{gutter:0},{default:s(()=>[l(c,{span:6,style:{"text-align":"left"}},{default:s(()=>[S]),_:1}),l(c,{span:18,style:{"text-align":"left","font-size":"1.5em"}},{default:s(()=>[L]),_:1})]),_:1})]),_:1}),l(c,{span:18,style:{"padding-top":"0.3em"}},{default:s(()=>[l(_,{type:"primary",onClick:e[8]||(e[8]=o=>m.QuickLogin("qq")),size:"small"},{default:s(()=>[R]),_:1})]),_:1})]),_:1})])]),_:1}),l(y,{label:"\u6211\u7684\u5BF9\u63A5\u4FE1\u606F",name:3},{default:s(()=>[l(x,{"label-position":"top"},{default:s(()=>[l(u,{label:"\u793E\u533A\u57DF\u540D [\u88AB\u5176\u4ED6\u7AD9\u70B9\u5BF9\u63A5\u7684\u65F6\u5019\u586B\u5199]"},{default:s(()=>[l(i,{modelValue:a.Url,"onUpdate:modelValue":e[9]||(e[9]=o=>a.Url=o),disabled:""},null,8,["modelValue"])]),_:1}),l(u,{label:"\u5BF9\u63A5ID [\u88AB\u5176\u4ED6\u7AD9\u70B9\u5BF9\u63A5\u7684\u65F6\u5019\u586B\u5199]"},{default:s(()=>[l(i,{modelValue:a.ID,"onUpdate:modelValue":e[10]||(e[10]=o=>a.ID=o),disabled:""},null,8,["modelValue"])]),_:1}),l(u,{label:"\u5BF9\u63A5\u5BC6\u94A5 [\u88AB\u5176\u4ED6\u7AD9\u70B9\u5BF9\u63A5\u7684\u65F6\u5019\u586B\u5199]"},{default:s(()=>[l(i,{modelValue:a.Token,"onUpdate:modelValue":e[11]||(e[11]=o=>a.Token=o),disabled:""},{prepend:s(()=>[l(_,{onClick:m.Reset},{default:s(()=>[z]),_:1},8,["onClick"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),E,(r(!0),D(T,null,q(a.IP,o=>(r(),f(w,{key:o,closable:"","disable-transitions":!1,style:{margin:"0.5em 0.5em 0 0"},size:"large",type:"danger",onClose:H=>m.handleClose(o)},{default:s(()=>[p(v(o),1)]),_:2},1032,["onClose"]))),128)),a.TagType?(r(),f(i,{key:0,modelValue:a.inputValue,"onUpdate:modelValue":e[12]||(e[12]=o=>a.inputValue=o),style:{width:"120px",margin:"0.5em 0.5em 0 0"},onKeyup:B(m.handleInputConfirm,["enter"]),onBlur:m.handleInputConfirm,placeholder:"\u8BF7\u586B\u5199IP\u5730\u5740"},null,8,["modelValue","onKeyup","onBlur"])):(r(),f(_,{key:1,type:"primary",style:{margin:"0 0.5em 0 0"},text:"",bg:"",onClick:e[13]||(e[13]=o=>a.TagType=!0)},{default:s(()=>[K]),_:1})),M]),_:1})]),_:1},8,["modelValue"])]),_:1})):U("",!0)],64)}var X=C(F,[["render",O]]);export{X as default};
