import{_ as V,g as E,r as h,h as T,c as r,f as c,d as p,w as d,i as L,a as f,F as w,o as t,t as i,j as O,n as u,b as m,e as g}from"./index.7e8edd7c.js";const H={name:"search",data(){var e;return{GoodsList:[],Search:"",Page:0,GoodsType:!0,GoodsState:!0,svg:`
			          <path class="path" d="
			            M 30 15
			            L 28 17
			            M 25.61 25.61
			            A 15 15, 0, 0, 1, 15 30
			            A 15 15, 0, 1, 1, 27.99 7.5
			            L 15 15
			          " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
			        `,Prices:[],tips:!1,TemConf:(e=this.$store.state.TemplateConfiguration)!=null?e:{}}},mounted(){E.beforeEach((e,a,n)=>{if(e.query.name!==a.query.name){this.Trigger(e.query.name);return}n()}),this.Search=this.$route.query.name,this.Search==""||this.Search==null||this.Search=="undefined"?this.Trigger(""):this.Trigger()},methods:{Trigger(e=!1){e===!1?this.Search=this.$route.query.name:this.Search=e,this.Page=1,this.GoodsType=!0,this.GoodsList=[],this.GoodsListGet()},Price(e){let a,n,_;return this.Prices[e.gid]!==void 0?this.Prices[e.gid]:(e.method==1?e.price==0||e.points==0?(a="#43A047;font-size: 90%;",n="\u514D\u8D39\u9886\u53D6",_=2):(a="#ff0000",n=e.price,_=1):e.method==2?e.price==0?(a="#43A047;font-size: 90%;",n="\u514D\u8D39\u9886\u53D6",_=2):(a="#ff0000",n=e.price,_=1):e.method==3&&(e.points==0?(a="#43A047;font-size: 90%;",n="\u514D\u8D39\u9886\u53D6",_=2):(a="#ff0000",n=e.points,_=3)),this.Prices[e.gid]={color:a,price:n,state:_},this.Prices[e.gid])},Router(e,a={}){this.$router.push({path:e,query:a})},GoodsLoad(e){this.GoodsType===!0&&(++this.Page,this.GoodsListGet())},Open(e){open("/#/goods?gid="+e)},GoodsListGet(){this.GoodsState=!0;let e=this,a={page:this.Page,limit:12,name:this.Search};this.$ajax.post("ajax.php?act=HomeAjax&uac=GoodsList",a).then(function(n){if(e.GoodsState=!1,n.code>=0){e.tips=n.tips;for(let _=0;_<n.data.length;_++)e.GoodsList.push(n.data[_]);n.data.length===0&&(e.GoodsType=!1)}})}}},I={style:{"background-color":"#FFFFFF",padding:"0 1em"}},R={style:{height:"3em","line-height":"3em","font-size":"1.2em"}},J={key:0},K={key:1},Q={style:{padding:"0.5em"}},U={key:1,class:"PriceSales"},W={style:{padding:"0 10px 10px"}},X={key:0},Y={key:0},Z={style:{color:"#9e9e9e","text-decoration":"line-through","font-size":"8px","margin-left":"4px"}},$={key:1},ee={key:2},se={style:{"font-size":"13px",color:"#f4a300"}},te={style:{color:"#9e9e9e","text-decoration":"line-through","font-size":"8px","margin-left":"4px"}},oe={style:{"font-size":"10px",color:"#f4a300","margin-left":"4px"}},ie={key:1},ne={key:0},le={key:1},re={key:2},ce={style:{"font-size":"13px",color:"#f4a300"}},ae={style:{"font-size":"10px",color:"#f4a300","margin-left":"4px"}},de={key:2,style:{"margin-top":"0.5em"}},_e={style:{"margin-top":"0.5em"}},he=g(" \u5E93\u5B58\u5145\u8DB3 "),pe=g("\u65E0\u5E93\u5B58"),fe={key:1},ge={key:2,style:{"text-align":"center","margin-top":"1em",color:"#999"}},ue=g(" \u8F7D\u5165\u4E2D ");function ye(e,a,n,_,o,l){const x=h("el-col"),k=h("el-row"),G=h("el-image"),b=h("n-ellipsis"),y=h("el-tag"),q=h("el-card"),F=h("el-empty"),A=h("el-icon"),D=h("el-main"),j=h("el-container"),B=T("loading"),M=T("infinite-scroll");return t(),r(w,null,[c("div",I,[p(k,{gutter:24},{default:d(()=>[p(x,{span:18},{default:d(()=>[c("div",R,[o.tips?(t(),r("span",K,i(o.tips),1)):(t(),r("span",J," \u6B63\u5728\u641C\u7D22\u5173\u952E\u8BCD\u5305\u542B["+i(o.Search)+"]\u7684\u5185\u5BB9\uFF01 ",1))])]),_:1})]),_:1})]),L((t(),f(j,{style:{"padding-bottom":"1em"},"infinite-scroll-immediate":!1,"infinite-scroll-delay":"200"},{default:d(()=>[L((t(),f(D,{style:{padding:"0.5em 0","overflow-x":"hidden"},"element-loading-svg":o.svg,"element-loading-svg-view-box":"-10, -10, 50, 50"},{default:d(()=>[o.GoodsList.length>=1?(t(),f(k,{key:0,gutter:12},{default:d(()=>[(t(!0),r(w,null,O(o.GoodsList,(s,N)=>(t(),f(x,{span:o.TemConf[1].value-0,key:N,style:{"margin-bottom":"10px"}},{default:d(()=>[p(q,{onClick:v=>l.Open(s.gid),shadow:"hover",style:{border:"none","box-shadow":"1px 1px 3px #fff4f0","border-radius":"4px"},"body-style":{padding:"0",cursor:"pointer"}},{default:d(()=>{var v,P;return[c("div",Q,[o.TemConf[6].value=="open"?(t(),f(G,{key:0,lazy:"",style:u("width: 100%;height: "+((v=o.TemConf[3].value)!=null?v:130)+"px;"),title:s.name,src:s.image,fit:(P=o.TemConf[5].value)!=null?P:"fill"},{error:d(()=>{var S,z,C;return[p(G,{lazy:"",style:u("width: 100%;height: "+((S=o.TemConf[3].value)!=null?S:130)+"px;"),src:(z=o.TemConf[4].value)!=null?z:"../../../public/image/404.png",fit:(C=o.TemConf[5].value)!=null?C:"fill"},null,8,["style","src","fit"])]}),_:2},1032,["style","title","src","fit"])):m("",!0),s.sales>=1&&o.TemConf[8].value==="open"?(t(),r("div",U," \u9500\u91CF"+i(s.sales>=1e4?"1\u4E07+":s.sales),1)):m("",!0)]),c("div",W,[p(b,{style:{"max-width":"100%","line-height":"22px","font-size":"16px","font-weight":"500",color:"#333","margin-bottom":"0.5em","text-indent":"0.2em"}},{default:d(()=>[g(i(s.name),1)]),_:2},1024),s.Seckill&&o.GoodsList.length>=1?(t(),r("div",X,[l.Price(s).state===1?(t(),r("div",Y,[c("span",{class:"Price",style:u("color:"+l.Price(s).color)},"\uFFE5"+i(e.Money(s)),5),c("span",Z,i(l.Price(s).price),1)])):l.Price(s).state===2?(t(),r("div",$,[c("span",{style:u("color:"+l.Price(s).color)},i(l.Price(s).price),5)])):(t(),r("div",ee,[c("span",se,i(e.Money(s)),1),c("span",te,i(l.Price(s).price),1),c("span",oe,i(e.ConfData.Config.currency),1)]))])):(t(),r("div",ie,[l.Price(s).state===1?(t(),r("div",ne,[c("span",{class:"Price",style:u("color:"+l.Price(s).color)},"\uFFE5"+i(l.Price(s).price),5)])):l.Price(s).state===2?(t(),r("div",le,[c("span",{style:u("color:"+l.Price(s).color)},i(l.Price(s).price),5)])):(t(),r("div",re,[c("span",ce,i(l.Price(s).price),1),c("span",ae,i(e.ConfData.Config.currency),1)]))])),s.Seckill&&o.GoodsList.length>=1?(t(),r("div",de,[p(y,{size:"small",type:"danger",style:{width:"100%"}},{default:d(()=>[g(" \u4F18\u60E0"+i(s.Seckill.depreciate)+"% ",1)]),_:2},1024)])):m("",!0),c("div",_e,[s.quota<=999?(t(),f(y,{key:0,size:"small",type:"success"},{default:d(()=>[g("\u5269"+i(s.quota)+"\u4EFD ",1)]),_:2},1024)):s.quota>=1e3?(t(),f(y,{key:1,size:"small",type:"success"},{default:d(()=>[he]),_:1})):(t(),f(y,{key:2,size:"small",type:"info"},{default:d(()=>[pe]),_:1})),p(y,{size:"small",style:{"margin-left":"0.5em","margin-right":"0.5em"}},{default:d(()=>[g("x"+i(s.quantity)+i(s.units),1)]),_:2},1024)])])]}),_:2},1032,["onClick"])]),_:2},1032,["span"]))),128))]),_:1})):(t(),r("div",fe,[p(F,{description:"\u6CA1\u6709\u627E\u5230\u4EFB\u4F55\u5546\u54C1"})])),o.GoodsState&&o.GoodsList.length>=1?(t(),r("div",ge,[ue,p(A,{color:"#999",class:"el-icon-loading"})])):m("",!0)]),_:1},8,["element-loading-svg"])),[[B,o.GoodsState&&o.GoodsList.length>=1]])]),_:1})),[[M,l.GoodsLoad]])],64)}var ve=V(H,[["render",ye],["__scopeId","data-v-297f994e"]]);export{ve as default};
