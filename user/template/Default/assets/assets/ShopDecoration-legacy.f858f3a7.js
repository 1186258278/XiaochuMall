!function(){var e=document.createElement("style");e.innerHTML=".carousel-img[data-v-5e949a93]{width:100%;height:240px;box-shadow:3px 3px 12px #eee;border-radius:.4em}\n",document.head.appendChild(e),System.register(["./index-legacy.6abde332.js"],(function(e){"use strict";var t,n,a,l,o,r,i,s,u,d,m,p,c,f,g,h;return{setters:[function(e){t=e._,n=e.E,a=e.r,l=e.c,o=e.f,r=e.d,i=e.w,s=e.F,u=e.o,d=e.a,m=e.t,p=e.b,c=e.j,f=e.e,g=e.k,h=e.l}],execute:function(){const x={name:"ShopDecoration",data:()=>({TemplateConfigure:{domain:!1,data:{M:{},PC:{}},conf:{template:-999,template_m:-999,background:-999,banner:-999}},index:1,Banner:[],BannerSetState:!1,BannerSetState2:!1,BannerIndex:-1,content:"",Form:{}}),mounted(){this.getTemplateConfigure()},watch:{"TemplateConfigure.conf.background":{handler(e,t){if(-999===t)return!1;this.TemAjax()}},"TemplateConfigure.conf.template":{handler(e,t){if(-999===t)return!1;this.TemAjax()}},"TemplateConfigure.conf.template_m":{handler(e,t){if(-999===t)return!1;this.TemAjax()}},"TemplateConfigure.conf.banner":{handler(e,t){if(-999===t)return!1;this.TemAjax()}}},methods:{BannerIndexDel(){let e={};for(const t in this.Banner)t!=this.BannerIndex&&(e[t]=this.Banner[t]);this.Banner=e,this.BannerSet(2),this.BannerSetState=!1,this.Form={}},BannerIndexDelAll(){let e=this;n.confirm("确认删除全部吗，删除后无法恢复，需要重新编辑?","警告",{confirmButtonText:"我已了解后果,确认删除",cancelButtonText:"取消",type:"warning"}).then((()=>{e.TemplateConfigure.conf.banner=""}))},BannerIndexSet(e,t){this.BannerIndex=e-0,this.Form=t,this.BannerSetState=!0},ImageOpen(e){""!=e?n.alert('<img src="'+e+'" width="100%" />',"图片预览",{confirmButtonText:"OK",dangerouslyUseHTMLString:!0}):n.alert("请先填写图片地址","警告",{confirmButtonText:"好的",dangerouslyUseHTMLString:!0})},UploadedSuccessfully(e,t){console.log(e,t),0==e.code?(this.Form.image=e.src,this.$message({message:e.msg,type:"success",grouping:!0})):this.$message({message:e.msg,type:"error",grouping:!0})},beforeAvatarUpload:e=>!(e.size/1024/1024>2)||(alert("最多只可以上传2M的图片！"),!1),editBroadcastMap(){-1==this.BannerIndex?this.Banner[this.Banner.length]=this.Form:this.Banner[this.BannerIndex]=this.Form,this.BannerSet(2),this.BannerSetState=!1},BannerSet(e=1){if(1===e){if(""==this.TemplateConfigure.conf.banner)return this.Banner=[],[];let e=this.TemplateConfigure.conf.banner.split("|"),t={},n=0;for(const a in e){if(""===e[a]||void 0===e[a])continue;let l=e[a].split("*");t[n]={image:l[0],url:l[1]},++n}return this.Banner=t,t}{if(0===this.Banner.length)return this.TemplateConfigure.conf.banner="","";let e=[],t=0;for(const n in this.Banner)""!==this.Banner[n].image&&void 0!==this.Banner[n].image&&""!==this.Banner[n].url&&void 0!==this.Banner[n].url&&(e[t]=this.Banner[n].image+"*"+this.Banner[n].url,++t);return this.TemplateConfigure.conf.banner=e.join("|"),this.TemplateConfigure.conf.banner}},setTemplat(e,t){this.TemplateConfigure.conf[t]=e},TemAjax(){let e=this;this.$ajax.post("ajax.php?act=configuration_save&type=template",this.TemplateConfigure.conf).then((function(t){t.code>=0?e.getTemplateConfigure():n.alert(t.msg,"警告",{confirmButtonText:"好的",dangerouslyUseHTMLString:!0})}))},Router(e,t={}){this.$router.push({path:e,query:t})},getTemplateConfigure(){let e=this;this.$ajax.post("ajax.php?act=TemplateSettings").then((function(t){t.code>=0?(e.TemplateConfigure=t,e.content=e.TemplateConfigure.conf.banner,e.BannerSet()):n.alert(t.msg,"警告",{confirmButtonText:"好的",dangerouslyUseHTMLString:!0})}))}}},y=e=>(g("data-v-5e949a93"),e=e(),h(),e),B={style:{"background-color":"#FFFFFF",padding:"1em","margin-bottom":"0.5em"}},b=["href"],C={style:{"margin-top":"1em"}},T=f("已选择 "),_=f("选择"),S={style:{"margin-top":"1em"}},k=f("已选择 "),w=f("选择"),v={style:{"text-align":"center","margin-top":"1em"}},F=f("添加一个"),V=f("快速编辑 "),I=f("删除全部"),j=f("图片预览"),U=f("上传轮播图"),M={style:{"text-align":"center"}},A=f(" 删除 "),z=y((()=>o("span",{style:{color:"#18b566"}},"输入快速编辑格式 : 图片地址*跳转链接|图片地址*跳转链接，如：/assets/img/pay.jpg*/user",-1))),D={style:{"text-align":"center"}},H=f(" 保存已编辑内容 "),L=f(" 点击初始化,还原默认配置 ");e("default",t(x,[["render",function(e,t,n,g,h,x){const y=a("el-page-header"),$=a("n-alert"),O=a("n-image"),P=a("el-button"),E=a("n-card"),R=a("el-col"),q=a("el-row"),K=a("n-tab-pane"),G=a("el-option"),J=a("el-select"),N=a("el-image"),Q=a("n-carousel"),W=a("n-tabs"),X=a("el-upload"),Y=a("el-input"),Z=a("el-form-item"),ee=a("el-form"),te=a("el-dialog");return u(),l(s,null,[o("div",B,[r(y,{onBack:t[0]||(t[0]=e=>x.Router("/user/shop")),content:"店铺装修"})]),r(E,{title:"配置面板"},{default:i((()=>[h.TemplateConfigure.domain?(u(),d($,{key:0,title:"店铺域名 - 点击查看效果",type:"success",style:{"margin-bottom":"0.5em"},bordered:!1},{default:i((()=>[o("a",{href:h.TemplateConfigure.domain,target:"_blank",style:{color:"#07C160","text-decoration":"none"}},m(h.TemplateConfigure.domain),9,b)])),_:1})):p("",!0),r(W,{"default-value":h.index,type:"line"},{default:i((()=>[r(K,{name:1,tab:"移动端模板配置"},{default:i((()=>[r(q,{gutter:5},{default:i((()=>[(u(!0),l(s,null,c(h.TemplateConfigure.data.M,(e=>(u(),d(R,{span:6,style:{"margin-bottom":"0.15em","margin-top":"0.15em"}},{default:i((()=>[r(E,{title:e.name,style:{"text-align":"center","box-shadow":"3px 3px 12px #eee"}},{default:i((()=>[r(O,{width:"120",height:"80",src:e.image},null,8,["src"]),o("div",C,[e.index==h.TemplateConfigure.conf.template_m?(u(),d(P,{key:0,type:"success",size:"small"},{default:i((()=>[T])),_:1})):(u(),d(P,{key:1,type:"danger",onClick:t=>x.setTemplat(e.index,"template_m"),size:"small"},{default:i((()=>[_])),_:2},1032,["onClick"]))])])),_:2},1032,["title"])])),_:2},1024)))),256))])),_:1})])),_:1}),r(K,{name:2,tab:"PC端模板配置"},{default:i((()=>[r(q,{gutter:5},{default:i((()=>[(u(!0),l(s,null,c(h.TemplateConfigure.data.PC,(e=>(u(),d(R,{span:6,style:{"margin-bottom":"0.15em","margin-top":"0.15em"}},{default:i((()=>[r(E,{title:e.name,style:{"text-align":"center","box-shadow":"3px 3px 12px #eee"}},{default:i((()=>[r(O,{width:"120",height:"80",src:e.image},null,8,["src"]),o("div",S,[e.index==h.TemplateConfigure.conf.template?(u(),d(P,{key:0,type:"success",size:"small"},{default:i((()=>[k])),_:1})):(u(),d(P,{key:1,type:"danger",size:"small",onClick:t=>x.setTemplat(e.index,"template")},{default:i((()=>[w])),_:2},1032,["onClick"]))])])),_:2},1032,["title"])])),_:2},1024)))),256))])),_:1})])),_:1}),r(K,{name:3,tab:"其他杂项配置"},{default:i((()=>[r(E,{title:"背景图片",style:{"box-shadow":"3px 3px 12px #eee"}},{default:i((()=>[r(J,{modelValue:h.TemplateConfigure.conf.background,"onUpdate:modelValue":t[1]||(t[1]=e=>h.TemplateConfigure.conf.background=e),placeholder:"请选择模板背景图片",style:{width:"100%"}},{default:i((()=>[r(G,{label:"随机二次元一",value:"1"}),r(G,{label:"随机高清壁纸",value:"2"}),r(G,{label:"随机二次元二",value:"3"}),r(G,{label:"模板默认背景",value:"4"})])),_:1},8,["modelValue"])])),_:1}),r(E,{title:"横幅广告",style:{"box-shadow":"3px 3px 12px #eee","margin-top":"0.3em"}},{default:i((()=>[r(Q,{"show-arrow":""},{default:i((()=>[(u(!0),l(s,null,c(h.Banner,((e,t)=>(u(),d(N,{onClick:n=>x.BannerIndexSet(t,e),src:e.image,class:"carousel-img"},null,8,["onClick","src"])))),256))])),_:1}),o("div",v,[r(P,{type:"primary",onClick:t[2]||(t[2]=e=>x.BannerIndexSet(-1,{image:"",url:""}))},{default:i((()=>[F])),_:1}),r(P,{type:"success",onClick:t[3]||(t[3]=e=>{h.BannerSetState2=!0})},{default:i((()=>[V])),_:1}),r(P,{type:"warning",onClick:x.BannerIndexDelAll},{default:i((()=>[I])),_:1},8,["onClick"])])])),_:1})])),_:1})])),_:1},8,["default-value"])])),_:1}),r(te,{modelValue:h.BannerSetState,"onUpdate:modelValue":t[9]||(t[9]=e=>h.BannerSetState=e),title:"轮播图设置"},{default:i((()=>[r(ee,{model:h.Form,"label-position":"top"},{default:i((()=>[r(Z,{label:"轮播图图片地址"},{default:i((()=>[r(Y,{modelValue:h.Form.image,"onUpdate:modelValue":t[5]||(t[5]=e=>h.Form.image=e),placeholder:"轮播图图片地址"},{prepend:i((()=>[r(P,{onClick:t[4]||(t[4]=e=>x.ImageOpen(h.Form.image))},{default:i((()=>[j])),_:1})])),append:i((()=>[r(X,{action:"ajax.php?act=image_up","show-file-list":!1,"on-success":x.UploadedSuccessfully,"before-upload":x.beforeAvatarUpload},{default:i((()=>[r(P,null,{default:i((()=>[U])),_:1})])),_:1},8,["on-success","before-upload"])])),_:1},8,["modelValue"])])),_:1}),r(Z,{label:"跳转地址",placeholder:"轮播图跳转地址"},{default:i((()=>[r(Y,{modelValue:h.Form.url,"onUpdate:modelValue":t[6]||(t[6]=e=>h.Form.url=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),o("div",M,[r(P,{style:{width:"45%"},type:"success",onClick:t[7]||(t[7]=e=>x.editBroadcastMap())},{default:i((()=>[f(m(-1==h.BannerIndex?"新增":"保存"),1)])),_:1}),-1!=h.BannerIndex?(u(),d(P,{key:0,style:{width:"45%"},type:"danger",onClick:t[8]||(t[8]=e=>x.BannerIndexDel())},{default:i((()=>[A])),_:1})):p("",!0)])])),_:1},8,["modelValue"]),r(te,{modelValue:h.BannerSetState2,"onUpdate:modelValue":t[13]||(t[13]=e=>h.BannerSetState2=e),title:"快速编辑轮播图"},{default:i((()=>[r(ee,{"label-position":"top"},{default:i((()=>[r(Z,{label:"请填写轮播图规则"},{default:i((()=>[r(Y,{"show-word-limit":"",modelValue:h.content,"onUpdate:modelValue":t[10]||(t[10]=e=>h.content=e),type:"textarea",placeholder:"请按照下方规则填写！"},null,8,["modelValue"]),z])),_:1})])),_:1}),o("div",D,[r(P,{style:{width:"45%"},type:"success",onClick:t[11]||(t[11]=e=>{h.TemplateConfigure.conf.banner=h.content,h.BannerSetState2=!1})},{default:i((()=>[H])),_:1}),r(P,{style:{width:"45%"},type:"danger",onClick:t[12]||(t[12]=e=>{h.TemplateConfigure.conf.banner="/assets/img/pay.jpg*/user",h.BannerSetState2=!1})},{default:i((()=>[L])),_:1})])])),_:1},8,["modelValue"])],64)}],["__scopeId","data-v-5e949a93"]]))}}}))}();
