!function(){var e=document.createElement("style");e.innerHTML=".avatar-uploader .avatar[data-v-79d4abce]{width:auto;min-width:128px;height:128px;max-width:320px;display:block}\n",document.head.appendChild(e),System.register(["./index-legacy.6abde332.js"],(function(e){"use strict";var t,a,l,s,i,n,o,d,r,u,p,h,c,m;return{setters:[function(e){t=e._,a=e.p,l=e.r,s=e.c,i=e.d,n=e.w,o=e.F,d=e.o,r=e.e,u=e.t,p=e.a,h=e.f,c=e.k,m=e.l}],execute:function(){const w={name:"ticket",components:{Plus:a},data:()=>({tableData:[],countList:{a1:0,a2:0,a3:0,a4:0},show:!1,show2:!1,state:0,stateName:"all",id:-1,page:1,limit:8,Num:0}),watch:{show(e,t){0==e&&this.obtainIncomeAndExpenditureDetails(1)},show2(e,t){0==e&&this.obtainIncomeAndExpenditureDetails(1)}},mounted(){this.TabSet()},methods:{Router(e,t={}){this.$router.push({path:e,query:t})},WorkOrderDetails(e){this.id=e,this.show=!0},TabSet(e="all"){e=0==this.state?"all":this.state,this.stateName=e,this.obtainIncomeAndExpenditureDetails(1)},obtainIncomeAndExpenditureDetails(e=1){let t=this;this.$ajax.post("ajax.php?act=Tickets&type=list",{state:this.stateName,page:e,limit:this.limit}).then((function(e){e.code>=0?(t.tableData=e.data,t.countList=e.count,t.Num=e.num):t.$message({message:e.msg,type:"error",grouping:!0})}))}}},f=e=>(c("data-v-79d4abce"),e=e(),m(),e),b=r("创建工单"),_=r(" 工单详情 "),g=r(" 待客服回复 "),y=r(" 客服已回复 "),k=r(" 已解决 "),x=r(" 已关闭 "),z=r(" 已评价 "),D=f((()=>h("iframe",{src:"./tickets_new.php",style:{width:"100%",height:"100%",border:"none"}},null,-1))),C=["src"];e("default",t(w,[["render",function(e,t,a,c,m,w){const f=l("n-card"),v=l("el-col"),L=l("el-row"),E=l("el-button"),I=l("el-tab-pane"),N=l("el-tabs"),T=l("el-table-column"),A=l("n-ellipsis"),j=l("n-tag"),S=l("el-table"),U=l("el-pagination"),V=l("n-drawer-content"),$=l("n-drawer");return d(),s(o,null,[i(L,{gutter:5,style:{"margin-bottom":"0.5em"}},{default:n((()=>[i(v,{span:6},{default:n((()=>[i(f,{title:"工单总数"},{default:n((()=>[r(u(m.countList.a1)+"条 ",1)])),_:1})])),_:1}),i(v,{span:6},{default:n((()=>[i(f,{title:"已解决"},{default:n((()=>[r(u(m.countList.a2)+"条 ",1)])),_:1})])),_:1}),i(v,{span:6},{default:n((()=>[i(f,{title:"处理中"},{default:n((()=>[r(u(m.countList.a3)+"条 ",1)])),_:1})])),_:1}),i(v,{span:6},{default:n((()=>[i(f,{title:"已关闭"},{default:n((()=>[r(u(m.countList.a4)+"条 ",1)])),_:1})])),_:1})])),_:1}),i(f,{title:"工单列表",style:{"margin-top":"0.5em"}},{"header-extra":n((()=>[i(E,{type:"success",plain:"",onClick:t[0]||(t[0]=e=>m.show2=!0)},{default:n((()=>[b])),_:1})])),default:n((()=>[i(N,{onTabChange:t[1]||(t[1]=e=>w.TabSet()),modelValue:m.state,"onUpdate:modelValue":t[2]||(t[2]=e=>m.state=e)},{default:n((()=>[i(I,{label:"全部"}),i(I,{label:"已解决"}),i(I,{label:"处理中"}),i(I,{label:"已关闭"})])),_:1},8,["modelValue"]),i(S,{data:m.tableData,stripe:"",style:{width:"100%"}},{default:n((()=>[i(T,{label:"操作",width:"110"},{default:n((e=>[i(E,{size:"small",color:"#626aef",onClick:t=>w.WorkOrderDetails(e.row.id),type:"success"},{default:n((()=>[_])),_:2},1032,["onClick"])])),_:1}),i(T,{prop:"class",label:"问题类型",width:"120"}),i(T,{label:"工单标题",width:"130"},{default:n((e=>[i(A,{style:{"max-width":"100px"}},{default:n((()=>[r(u(e.row.name),1)])),_:2},1024)])),_:1}),i(T,{label:"实时状态",width:"100"},{default:n((e=>[1==e.row.type?(d(),p(j,{key:0,size:"small",type:"warning"},{default:n((()=>[g])),_:1})):2==e.row.type?(d(),p(j,{key:1,size:"small",type:"error"},{default:n((()=>[y])),_:1})):3==e.row.type?(d(),p(j,{key:2,size:"small",type:"success"},{default:n((()=>[k])),_:1})):4==e.row.type?(d(),p(j,{key:3,size:"small",type:"info"},{default:n((()=>[x])),_:1})):(d(),p(j,{key:4,size:"small",type:"success"},{default:n((()=>[z])),_:1}))])),_:1}),i(T,{label:"关联订单"},{default:n((e=>[r(u("不选择相关订单"==e.row.order?"未关联任何订单":e.row.order),1)])),_:1}),i(T,{prop:"addtime",label:"创建时间"})])),_:1},8,["data"]),i(U,{onCurrentChange:w.obtainIncomeAndExpenditureDetails,"default-page-size":m.limit,"page-size":m.limit,style:{"margin-top":"1em"},background:"","hide-on-single-page":"",small:"",layout:"total, prev, pager, next, jumper",total:m.Num},null,8,["onCurrentChange","default-page-size","page-size","total"])])),_:1}),i($,{show:m.show2,"onUpdate:show":t[3]||(t[3]=e=>m.show2=e),width:840,placement:"right"},{default:n((()=>[i(V,{title:"创建工单"},{default:n((()=>[D])),_:1})])),_:1},8,["show"]),i($,{show:m.show,"onUpdate:show":t[4]||(t[4]=e=>m.show=e),width:840,placement:"right"},{default:n((()=>[i(V,{title:"工单详情 - "+m.id},{default:n((()=>[h("iframe",{src:"./tickets_code.php?id="+m.id,style:{width:"100%",height:"100%",border:"none"}},null,8,C)])),_:1},8,["title"])])),_:1},8,["show"])],64)}],["__scopeId","data-v-79d4abce"]]))}}}))}();
