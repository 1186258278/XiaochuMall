System.register(["./index-legacy.6abde332.js"],(function(e){"use strict";var t,a,i,l,n,s,o,r,d,u,m,p;return{setters:[function(e){t=e._,a=e.E,i=e.r,l=e.a,n=e.w,s=e.o,o=e.d,r=e.c,d=e.f,u=e.e,m=e.t,p=e.b}],execute:function(){const c={name:"inItPrize",data:()=>({Data:{List:[],count:-1},limit:4,page:1}),mounted(){this.InviteDataGet()},methods:{receiveReward(e){let t=this;a.confirm("确认领取奖励吗?","温馨提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((()=>{t.$ajax.post("ajax.php?act=ReceiveAward",{id:e}).then((function(e){e.code>=0?(t.$message({message:e.msg,type:"success",grouping:!0}),t.InviteDataGet()):t.$message({message:e.msg,type:"error",grouping:!0})}))}))},Download(){open(this.Data.image)},InviteDataGet(e=-1){-1==e?e=this.page:this.page=e;let t=this;this.$ajax.post("ajax.php?act=InviteData",{page:e,limit:t.limit}).then((function(e){e.code>=0?t.Data=e.data:t.$message({message:e.msg,type:"error",grouping:!0})}))}}},g={key:1},y={style:{"margin-top":"1em"}},f={style:{"text-align":"center","margin-top":"1em"}},h={key:1},w=["src"],x={style:{"margin-top":"1em","text-align":"center"}},_=u("换一张邀请图 "),b=u("保存邀请图 "),D={key:1},k=u("已领"),v=u("未领"),z=["src"],C={key:0,style:{"font-size":"0.8em",color:"#18b566"}},I={key:1,style:{"font-size":"0.8em",color:"#f4a300"}},j={key:0,style:{"font-size":"0.8em"}};e("default",t(c,[["render",function(e,t,a,c,G,$){const L=i("el-skeleton"),R=i("el-input"),U=i("el-form-item"),V=i("el-form"),B=i("el-button"),T=i("n-card"),A=i("el-col"),E=i("el-skeleton-item"),P=i("el-table-column"),S=i("n-ellipsis"),q=i("el-table"),F=i("el-empty"),H=i("el-pagination"),J=i("el-row");return s(),l(J,{gutter:5},{default:n((()=>[o(A,{span:24},{default:n((()=>[o(T,{title:"我的推广信息",style:{"margin-bottom":"0.3em"}},{default:n((()=>[-1===G.Data.count?(s(),l(L,{key:0,animated:"",rows:2})):(s(),r("div",g,[o(V,{"label-width":"96px"},{default:n((()=>[o(U,{label:"我的邀请链接"},{default:n((()=>[o(R,{modelValue:G.Data.Url,"onUpdate:modelValue":t[0]||(t[0]=e=>G.Data.Url=e)},null,8,["modelValue"])])),_:1})])),_:1}),d("div",y,[o(B,{type:"warning"},{default:n((()=>[u("邀请总数："+m(G.Data.a1),1)])),_:1}),o(B,{type:"primary"},{default:n((()=>[u("已领取奖励数："+m(G.Data.a2),1)])),_:1}),o(B,{type:"success"},{default:n((()=>[u("每邀请1人奖励"+m(G.Data.award)+m(G.Data.currency),1)])),_:1})])]))])),_:1})])),_:1}),o(A,{span:12},{default:n((()=>[o(T,{title:"我的推广图片",style:{"margin-bottom":"0.3em"}},{default:n((()=>[-1===G.Data.count?(s(),l(L,{key:0,style:{width:"100%"},animated:""},{template:n((()=>[o(E,{animated:"",variant:"image",style:{width:"100%",height:"230px",cursor:"pointer","box-shadow":"3px 3px 12px #ccc","border-radius":"6px"}}),d("div",f,[o(E,{variant:"button",style:{"margin-right":"16px",width:"30%",height:"30px"}}),o(E,{variant:"button",style:{width:"30%",height:"30px"}})])])),_:1})):(s(),r("div",h,[d("img",{src:G.Data.image,onClick:t[1]||(t[1]=e=>$.InviteDataGet(-1)),style:{width:"100%",height:"230px",cursor:"pointer","box-shadow":"3px 3px 12px #ccc","border-radius":"6px"}},null,8,w),d("div",x,[o(B,{text:"",onClick:t[2]||(t[2]=e=>$.InviteDataGet(-1)),type:"warning",bg:""},{default:n((()=>[_])),_:1}),o(B,{text:"",type:"success",onClick:$.Download,bg:""},{default:n((()=>[b])),_:1},8,["onClick"])])]))])),_:1})])),_:1}),o(A,{span:12},{default:n((()=>[o(T,{title:"我的邀请列表",style:{"margin-bottom":"0.3em",height:"370px"}},{default:n((()=>[-1===G.Data.count?(s(),l(L,{key:0,animated:"",rows:7})):(s(),r("div",D,[G.Data.List.length>=1?(s(),l(q,{key:0,data:G.Data.List,stripe:"",style:{width:"100%"}},{default:n((()=>[o(P,{label:"领取状态"},{default:n((e=>[0==e.row.award?(s(),l(B,{key:0,size:"small",type:"danger"},{default:n((()=>[k])),_:1})):(s(),l(B,{key:1,onClick:t=>$.receiveReward(e.row.id),type:"success",size:"small"},{default:n((()=>[v])),_:2},1032,["onClick"]))])),_:1}),o(P,{label:"用户头像"},{default:n((e=>[d("img",{src:e.row.image,style:{width:"30px",height:"30px"}},null,8,z)])),_:1}),o(P,{label:"用户名称"},{default:n((e=>[o(S,{style:{"max-width":"70px","font-size":"0.8em"}},{default:n((()=>[u(m(e.row.name),1)])),_:2},1024)])),_:1}),o(P,{label:"奖励内容"},{default:n((e=>[0==e.row.award?(s(),r("span",C,"已领取")):(s(),r("span",I,m(e.row.award)+m(G.Data.currency),1))])),_:1}),o(P,{label:"邀请时间"},{default:n((e=>[o(S,{style:{"max-width":"70px","font-size":"0.8em"}},{default:n((()=>[u(m(e.row.creation_time),1)])),_:2},1024)])),_:1}),o(P,{label:"领取时间"},{default:n((e=>[e.row.draw_time?p("",!0):(s(),r("span",j,"未领取")),o(S,{style:{"max-width":"70px","font-size":"0.8em"}},{default:n((()=>[u(m(e.row.draw_time),1)])),_:2},1024)])),_:1})])),_:1},8,["data"])):(s(),l(F,{key:1,description:"当前一个有效邀请都没有，快去通过上方的链接来邀请好友吧"})),o(H,{onCurrentChange:$.InviteDataGet,"default-page-size":G.limit,"page-size":G.limit,style:{"margin-top":"1em"},background:"","hide-on-single-page":"",small:"",layout:"total, prev, pager, next, jumper",total:G.Data.count},null,8,["onCurrentChange","default-page-size","page-size","total"])]))])),_:1})])),_:1})])),_:1})}]]))}}}));
