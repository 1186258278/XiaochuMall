import{_ as D,C as g,E as h,r as l,c as p,a as P,w as n,b as k,d as t,F as N,o as m,e as a,t as c,n as E,f as w}from"./index.7e8edd7c.js";const j={name:"home",data(){var o;return{UserPanelInformation:this.$store.state.UserPanelInformation?this.$store.state.UserPanelInformation:{data:{}},ConfData:(o=this.$store.state.ConfData)!=null?o:{Appurl:"",PopupNotice:"",NoticeUser:""},Tips:"",show:!1,content:""}},mounted(){if(this.UserPanelInformation||this.Router("/login"),this.$store.state.ConfData||g.updateGlobalData(),this.$store.state.UserPanelInformation||g.updateUserPanelInformation(),this.Tips=this.UserPanelInformation.data.UserBackgroundTips,this.Tips.length>0){let o=Math.round(Math.random()*(this.Tips.length-1));this.Tips=this.Tips[o]}else this.Tips=""},methods:{Open(o,e=1){e===1?open(o):location.href=o},PermissionRenewal(){var o=this;h.confirm("\u662F\u5426\u8981\u4E3A\u60A8\u7684\u5E97\u94FA\u7EED\u671F"+o.UserPanelInformation.data.PermissionLengthTime+"\u5929\uFF0C\u4E00\u5171\u9700\u8981"+o.UserPanelInformation.data.PermissionRenewPrice+"\u5143\u4F59\u989D\u54E6\uFF01","\u7EED\u671F\u63D0\u9192",{confirmButtonText:"\u786E\u8BA4\u7EED\u671F",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{o.$ajax.post("ajax.php?act=PermissionRenewal").then(e=>{e.code==1?h.alert(e.msg,"\u606D\u559C",{confirmButtonText:"\u597D\u7684",callback:()=>{g.updateUserPanelInformation()}}):e.code==-2?(o.show=!0,o.content=e.msg):o.$message({message:e.msg,type:"error",grouping:!0})})})},Router(o,e={}){this.$router.push({path:o,query:e})},LogOut(){let o=this;h.confirm("\u786E\u8BA4\u9000\u51FA\u767B\u5F55\u5417\uFF1F","\u6E29\u99A8\u63D0\u793A",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{o.$ajax.post("ajax.php?mod=user&act=logout").then(function(e){e.code>=0?(o.$message({message:e.msg,type:"success",grouping:!0}),g.updateGlobalData(),o.Router("/login")):o.$message({message:e.msg,type:"error",grouping:!0})})})}}},M=a("\u7EED\u671F\u6743\u9650\u65F6\u957F"),S={key:1,style:{"font-size":"0.8em"}},V={style:{"font-size":"0.8em"}},z=a("\u6211\u7684\u4E2A\u4EBA\u4FE1\u606F"),L=a(" \u5728\u7EBF\u4E0B\u5355 "),O=a(" \u6211\u7684\u8BA2\u5355 "),F=a(" \u6BCF\u65E5\u7B7E\u5230 "),G=a(" \u6536\u652F\u660E\u7EC6 "),H=a(" \u9080\u8BF7\u6709\u5956 "),q=a(" \u552E\u540E\u5DE5\u5355 "),A=a(" \u7B49\u7EA7\u7BA1\u7406 "),J=a(" \u8054\u7CFB\u6211\u4EEC "),K=["innerHTML"],Q={key:1},W=a("\u524D\u5F80\u5145\u503C"),X=a("\u53D6\u6D88");function Y(o,e,Z,$,s,i){const I=l("el-alert"),y=l("el-col"),_=l("n-statistic"),f=l("n-col"),v=l("n-divider"),u=l("el-button"),x=l("n-row"),d=l("n-gi"),T=l("n-grid"),U=l("n-card"),b=l("el-empty"),R=l("el-row"),C=l("n-button"),B=l("n-modal");return m(),p(N,null,[s.UserPanelInformation?(m(),P(R,{key:0,gutter:20},{default:n(()=>[t(y,{span:24},{default:n(()=>[s.UserPanelInformation.data.UserBackgroundTips?(m(),P(I,{key:0,style:{"margin-bottom":"1em"},title:s.Tips,type:"success","show-icon":""},null,8,["title"])):k("",!0)]),_:1}),t(y,{span:12},{default:n(()=>[t(U,{title:"\u4FE1\u606F\u9762\u677F"},{default:n(()=>[t(x,null,{default:n(()=>[t(f,{span:9},{default:n(()=>[t(_,{label:"\u7528\u6237\u7F16\u53F7",value:"UID:"+s.UserPanelInformation.data.id},null,8,["value"])]),_:1}),t(f,{span:6,style:{cursor:"pointer"}},{default:n(()=>[t(_,{label:"\u6743\u9650\u7B49\u7EA7",onClick:e[0]||(e[0]=r=>i.Router("/user/grade"))},{default:n(()=>[a(" V"+c(s.UserPanelInformation.data.grade.mid),1)]),_:1})]),_:1}),t(f,{span:9,title:"\u70B9\u51FB\u7BA1\u7406",style:{cursor:"pointer"}},{default:n(()=>[t(_,{label:"\u6743\u9650\u7EC4",onClick:e[1]||(e[1]=r=>i.Router("/user/shop"))},{default:n(()=>[a(c(s.UserPanelInformation.data.grade.name),1)]),_:1})]),_:1}),t(v),s.UserPanelInformation.data.PermissionTime==1&&s.UserPanelInformation.data.endtime?(m(),P(f,{key:0,span:24},{default:n(()=>[t(_,{label:"\u5E97\u94FA\u5230\u671F\u65F6\u95F4"},{default:n(()=>[s.UserPanelInformation.data.PermissionTime==1&&s.UserPanelInformation.data.endtime?(m(),p("span",{key:0,title:"\u6743\u9650\u7EED\u671F",style:E([{"font-size":"0.8em"},"color: "+(s.UserPanelInformation.data.expireState?"":"red")])},[a(c(s.UserPanelInformation.data.endtime)+" ",1),t(u,{type:"warning",bg:"",text:"",style:{position:"absolute",right:"0"},onClick:i.PermissionRenewal},{default:n(()=>[M]),_:1},8,["onClick"])],4)):(m(),p("span",S,"\u6C38\u4E45\u53EF\u7528"))]),_:1})]),_:1})):k("",!0),t(f,{span:24},{default:n(()=>[t(_,{label:"\u8D26\u6237\u6CE8\u518C\u65F6\u95F4"},{default:n(()=>[w("span",V,[a(c(s.UserPanelInformation.data.addtime)+" ",1),t(u,{onClick:e[2]||(e[2]=r=>i.Router("/user/personalSettings")),style:{position:"absolute",right:"0"},type:"primary",bg:"",text:""},{default:n(()=>[z]),_:1})])]),_:1})]),_:1})]),_:1}),t(v),t(T,{"x-gap":"1",cols:4,style:{"text-align":"center"}},{default:n(()=>[t(d,null,{default:n(()=>[t(u,{type:"primary",onClick:e[3]||(e[3]=r=>i.Open("../",2))},{default:n(()=>[L]),_:1})]),_:1}),t(d,null,{default:n(()=>[t(u,{type:"warning",onClick:e[4]||(e[4]=r=>i.Router("/user/order"))},{default:n(()=>[O]),_:1})]),_:1}),t(d,null,{default:n(()=>[t(u,{type:"success",onClick:e[5]||(e[5]=r=>i.Router("/user/sign"))},{default:n(()=>[F]),_:1})]),_:1}),t(d,null,{default:n(()=>[t(u,{type:"danger",onClick:e[6]||(e[6]=r=>i.Router("/user/journal"))},{default:n(()=>[G]),_:1})]),_:1}),t(d,{style:{"margin-top":"1em"}},{default:n(()=>[t(u,{color:"#EE7600",style:{color:"white"},onClick:e[7]||(e[7]=r=>i.Router("/user/invite"))},{default:n(()=>[H]),_:1})]),_:1}),t(d,{style:{"margin-top":"1em"}},{default:n(()=>[t(u,{color:"#8B658B",onClick:e[8]||(e[8]=r=>i.Router("/user/ticket"))},{default:n(()=>[q]),_:1})]),_:1}),t(d,{style:{"margin-top":"1em"}},{default:n(()=>[t(u,{color:"#7B68EE",onClick:e[9]||(e[9]=r=>i.Router("/user/grade"))},{default:n(()=>[A]),_:1})]),_:1}),t(d,{style:{"margin-top":"1em"}},{default:n(()=>[t(u,{color:"#607B8B",onClick:e[10]||(e[10]=r=>i.Router("/user/contactCustomerService"))},{default:n(()=>[J]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(y,{span:12},{default:n(()=>[t(U,{title:"\u7AD9\u70B9\u516C\u544A"},{default:n(()=>[s.ConfData.NoticeUser?(m(),p("div",{key:0,innerHTML:s.ConfData.NoticeUser},null,8,K)):(m(),p("div",Q,[t(b,{description:"\u5F53\u524D\u7AD9\u70B9\u6CA1\u6709\u914D\u7F6E\u516C\u544A"})]))]),_:1})]),_:1})]),_:1})):k("",!0),t(B,{show:s.show,"onUpdate:show":e[13]||(e[13]=r=>s.show=r),type:"error",preset:"dialog",title:"\u8B66\u544A"},{action:n(()=>[t(C,{text:"",onClick:e[11]||(e[11]=r=>i.Router("/user/pay"))},{default:n(()=>[W]),_:1}),t(C,{text:"",onClick:e[12]||(e[12]=r=>s.show=!1)},{default:n(()=>[X]),_:1})]),default:n(()=>[w("div",null,c(s.content),1)]),_:1},8,["show"])],64)}var te=D(j,[["render",Y],["__scopeId","data-v-79647338"]]);export{te as default};
